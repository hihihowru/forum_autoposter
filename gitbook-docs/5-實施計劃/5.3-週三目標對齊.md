# 週三目標對齊 - 實用優先

## 🎯 週三目標 (2025-01-15)

### 核心目標
1. **至少完成 200篇發文** ✅
2. **200篇發文的互動數據都有接上** ✅  
3. **至少完成兩隻觸發器** (目前 90% 完成)
   - 盤後漲停觸發器
   - 熱門話題觸發器

### 剩餘工作 (10%)
- **Prompting 調整**: 根據每個觸發器調整 Prompt
- **個人化 KOL Prompt**: 根據 KOL 人設調整
- **Nice to have**: 數據源調動邏輯

## ⚡ 今日重點 (實用優先)

### 1. 觸發器 Prompt 差異化 (2小時)
**目標**: 讓兩個觸發器有明顯不同的內容風格

#### 快速實現
```python
# 在現有的 content_generator.py 中添加
def get_trigger_specific_prompt(self, trigger_type: str, kol_nickname: str, kol_persona: str):
    if trigger_type == "trending_topic":
        return f"""你是 {kol_nickname}，一個善於捕捉市場熱點的 {kol_persona} 分析師。
專注於話題討論和社群互動，語氣輕鬆，善於引發討論。"""
    
    elif trigger_type == "limit_up_after_hours":
        return f"""你是 {kol_nickname}，一個專業的 {kol_persona} 技術分析師。
專注於技術分析和籌碼面，語氣專業理性，數據導向。"""
    
    else:
        return f"""你是 {kol_nickname}，一個專業的 {kol_persona} 分析師。"""
```

### 2. KOL 個人化 Prompt (1小時)
**目標**: 根據 KOL 人設調整內容風格

#### 快速實現
```python
# 在現有的 KOL 設定中添加
def get_kol_personalized_prompt(self, kol_config: dict):
    persona = kol_config.get('persona', '')
    
    if persona == '新聞派':
        return "使用新聞導向的分析方式，關注市場消息和事件影響。"
    elif persona == '技術派':
        return "使用技術分析術語，關注圖表和指標。"
    elif persona == '籌碼派':
        return "專注籌碼面分析，關注資金流向和大戶動向。"
    else:
        return "使用專業中性的分析語氣。"
```

### 3. 統一 Serper API (1小時)
**目標**: 消除重複代碼，統一搜尋邏輯

#### 快速實現
```python
# 創建統一的搜尋函數
def unified_news_search(keywords: list, num_results: int = 5):
    """統一的 Serper API 搜尋函數"""
    api_key = os.getenv('SERPER_API_KEY')
    # 統一的搜尋邏輯
    # 錯誤處理
    # 結果標準化
```

## 🚀 今日完成檢查清單

### 必須完成 (4小時)
- [ ] **觸發器 Prompt 差異化**
  - [ ] 熱門話題: 輕鬆互動風格
  - [ ] 盤後漲停: 專業技術風格
  - [ ] 測試兩種風格的差異

- [ ] **KOL 個人化 Prompt**
  - [ ] 新聞派: 消息導向
  - [ ] 技術派: 技術分析
  - [ ] 籌碼派: 籌碼面分析
  - [ ] 測試個人化效果

- [ ] **統一 Serper API**
  - [ ] 創建統一搜尋函數
  - [ ] 替換重複的 SerperNewsClient
  - [ ] 測試搜尋功能

### Nice to Have (有時間再做)
- [ ] 數據源調動邏輯
- [ ] 進階關鍵字優化
- [ ] 完整的錯誤處理

## 📊 預期效果

### 內容差異化
- **熱門話題**: 輕鬆互動，善於引發討論
- **盤後漲停**: 專業理性，數據導向
- **KOL 個人化**: 根據人設調整風格

### 代碼簡化
- 消除重複的 Serper API 調用
- 統一的搜尋邏輯
- 更易維護的代碼結構

## 🎯 週三目標達成度

### 目前狀態
- ✅ **200篇發文**: 已完成
- ✅ **互動數據**: 已接上
- 🔄 **兩隻觸發器**: 90% 完成

### 今日完成後
- ✅ **200篇發文**: 保持
- ✅ **互動數據**: 保持
- ✅ **兩隻觸發器**: 100% 完成
  - ✅ 觸發器 Prompt 差異化
  - ✅ KOL 個人化 Prompt
  - ✅ 統一 Serper API

## 💪 實用優先原則

**重點**: 先有東西能用，再追求完美
**策略**: 最小可行產品 (MVP) 思維
**目標**: 週三能展示兩個觸發器的差異化效果

---

**文檔版本**: v1.0 (週三目標版)  
**對齊時間**: 2025-01-15  
**完成目標**: 今日 18:00 前
